<ngx-spinner
  bdColor="rgba(250,250,250,0.2)"
  size="large"
  color="#0074D9"
  type="timer"
>
  <p style="font-size: 30px; color: #0074D9">Загрузка...</p>
</ngx-spinner>
<div class="row" *ngIf="document" style="background: white">
  <div class="col-3 mat-elevation-z8" >
    <mat-tab-group color="accent">

      <mat-tab label="Детали">
        <div style="margin-left: 10px">
          <gpn-document-details
            [document] = "document"
            [editable]="editmode"
          >
          </gpn-document-details>

        </div>
      </mat-tab>

      <mat-tab label="Фрагменты">
        <cdk-virtual-scroll-viewport  style="height: 80vh" itemSize="50" >
        <gpn-tree-attributes
          [editmode]="editmode"
          [attributes]="attributes"
          [headers]="document.analysis.headers"
          [documentType] = "documentType"
          (goToAttribute)="goToAttribute($event)"
        ></gpn-tree-attributes>
      </cdk-virtual-scroll-viewport>
      </mat-tab>

    </mat-tab-group>
  </div>
  <div class="col-9" style="height: 88vh" >

    <mat-accordion *ngIf="document.documentType == 'CHARTER'">
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Компетенция
          </mat-panel-title>
        </mat-expansion-panel-header>
          <gpn-competencecharts
          [attributes] = "attributes"></gpn-competencecharts>
      </mat-expansion-panel>
    </mat-accordion>

    <gpn-view-document
      [document]="document"
      [documentType] = "documentType"
      [editmode]="editmode"
      [attributes] = "attributes"
      (changeAttribute)= "changeAttribute($event)"
      (refresh)="refresh()"
    ></gpn-view-document>
  </div>
</div>
