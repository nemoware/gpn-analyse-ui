<div>

  <div class="left_group">
    <gpn-doc-filter [documTypes]="documTypes" (onApplyFilter)="onApplyFilter($event)"></gpn-doc-filter>
  </div>

  <div class="right_group">
    <div class="mat-elevation-z10">
      <div class="table-container">
        <table mat-table [dataSource]="data" class="table" matSort matSortActive="filemtime" matSortDisableClear
               multiTemplateDataRows matSortDirection="desc">
          <!-- Time Column -->
          <ng-container matColumnDef="filemtime">
            <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear [ngClass]="'customWidthClass'">Изменен</th>
            <td mat-cell *matCellDef="let row" [ngClass]="'customWidthClass'">{{1000*row.filemtime | date}}</td>
          </ng-container>

          <!-- filename -->
          <ng-container matColumnDef="short_filename" >
            <th mat-header-cell *matHeaderCellDef>Наименование файла</th>
            <td mat-cell *matCellDef="let row">{{row.short_filename}}</td>
          </ng-container>

          <ng-container matColumnDef="expandedDetail">
            <td mat-cell *matCellDef="let doc" [attr.colspan]="displayedColumns.length">
              <div class="element-detail" [@detailExpand]="doc == expandedElement ? 'expanded' : 'collapsed'">
                <gpn-doc-info [doc]='doc'></gpn-doc-info>
              </div>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

          <tr mat-row *matRowDef="let doc; columns: displayedColumns;" class="element-row"
              [class.expanded-row]="expandedElement === doc"
              (click)="expandedElement = expandedElement === doc ? null : doc"
              >
          </tr>

          <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="detail-row"></tr>
        </table>
      </div>

      <mat-paginator [length]="resultsLength" [pageSize]="30"></mat-paginator>

    </div>
  </div>

  <div class="loading-shade" *ngIf="isLoadingResults">
    <svg class="spinner" viewBox="25 25 50 50">
      <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" />
    </svg>
  </div>

</div>
